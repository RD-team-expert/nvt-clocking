import{d as k,x as w,c,o as m,g as o,u as e,p as V,w as l,a,h as i,l as F,i as _,j as x,t as f,F as C}from"./app-CpWbJJER.js";import{_ as S}from"./AppLayout.vue_vue_type_script_setup_true_lang-UWRjaSCJ.js";import{a as L,_ as u}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-Cn4VzyVq.js";import{_ as p,a as g}from"./Label.vue_vue_type_script_setup_true_lang-C-ZKzuk9.js";import{_ as U,a as h,b as E,c as B}from"./CardTitle.vue_vue_type_script_setup_true_lang-DNeIjIFJ.js";import{_ as D}from"./CardDescription.vue_vue_type_script_setup_true_lang-DyGu-_SZ.js";import{_ as y}from"./InputError.vue_vue_type_script_setup_true_lang-Bbx9LSYg.js";import{_ as M}from"./FileUpload.vue_vue_type_script_setup_true_lang-C73SEcKY.js";import{L as N}from"./loader-circle-pw98TczC.js";import"./useForwardExpose-BI4lYtN6.js";import"./RovingFocusGroup-D0-6ITzG.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=L("ArrowLeftIcon",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),X={class:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4"},j={class:"flex items-center gap-4"},q={class:"space-y-2"},A={class:"space-y-2"},I={key:0,class:"space-y-2"},O={class:"flex items-center justify-between p-3 border rounded-lg bg-muted/30"},T={class:"flex items-center space-x-2"},H={class:"text-sm font-medium"},P=["href","download"],R={class:"space-y-2"},G={class:"text-xs text-muted-foreground"},J={class:"flex gap-4 pt-4"},ie=k({__name:"Edit",props:{form:{}},setup(b){const n=b,v=[{title:"Forms",href:"/forms"},{title:"Edit",href:`/forms/${n.form.id}/edit`}],t=w({name:n.form.name,date:n.form.date,file:null,_method:"PUT"}),$=()=>{t.post(route("forms.update",n.form.id),{forceFormData:!0,onSuccess:()=>{}}),t.post(route("clocking.update",n.form.id),{forceFormData:!0,onSuccess:()=>{}})};return(d,s)=>(m(),c(C,null,[o(e(V),{title:"Edit Form"}),o(S,{breadcrumbs:v},{default:l(()=>[a("div",X,[a("div",j,[o(e(u),{variant:"outline",size:"sm",onClick:s[0]||(s[0]=r=>d.$inertia.visit(d.route("forms.index"))),class:"flex items-center gap-2"},{default:l(()=>[o(e(z),{class:"h-4 w-4"}),s[5]||(s[5]=i(" Back to Forms "))]),_:1,__:[5]}),s[6]||(s[6]=a("div",{class:"flex flex-col space-y-2"},[a("h1",{class:"text-2xl font-semibold tracking-tight"},"Edit Form"),a("p",{class:"text-muted-foreground"},"Update your form information below.")],-1))]),o(e(U),{class:"max-w-2xl"},{default:l(()=>[o(e(h),null,{default:l(()=>[o(e(E),null,{default:l(()=>s[7]||(s[7]=[i("Edit Form Submission")])),_:1,__:[7]}),o(e(D),null,{default:l(()=>s[8]||(s[8]=[i(" Modify your name, date, and optionally update the file. ")])),_:1,__:[8]})]),_:1}),o(e(B),null,{default:l(()=>[a("form",{onSubmit:F($,["prevent"]),class:"space-y-6"},[a("div",q,[o(e(p),{for:"name"},{default:l(()=>s[9]||(s[9]=[i("Name *")])),_:1,__:[9]}),o(e(g),{id:"name",modelValue:e(t).name,"onUpdate:modelValue":s[1]||(s[1]=r=>e(t).name=r),type:"text",placeholder:"Enter your full name",required:"",disabled:e(t).processing},null,8,["modelValue","disabled"]),o(y,{message:e(t).errors.name},null,8,["message"])]),a("div",A,[o(e(p),{for:"date"},{default:l(()=>s[10]||(s[10]=[i("Date *")])),_:1,__:[10]}),o(e(g),{id:"date",modelValue:e(t).date,"onUpdate:modelValue":s[2]||(s[2]=r=>e(t).date=r),type:"date",required:"",disabled:e(t).processing},null,8,["modelValue","disabled"]),o(y,{message:e(t).errors.date},null,8,["message"])]),e(t).file_original_name&&!e(t).file?(m(),c("div",I,[o(e(p),null,{default:l(()=>s[11]||(s[11]=[i("Current File")])),_:1,__:[11]}),a("div",O,[a("div",T,[a("span",H,f(e(t).file_original_name),1),s[12]||(s[12]=a("span",{class:"text-xs text-muted-foreground"},"(Current file)",-1))]),e(t).file_url?(m(),x(e(u),{key:0,variant:"outline",size:"sm","as-child":""},{default:l(()=>[a("a",{href:e(t).file_url,download:e(t).file_original_name,class:"flex items-center gap-1"}," Download ",8,P)]),_:1})):_("",!0)])])):_("",!0),a("div",R,[o(e(p),null,{default:l(()=>[i(f(e(t).file_original_name?"Replace File (Optional)":"File Upload (Optional)"),1)]),_:1}),o(M,{modelValue:e(t).file,"onUpdate:modelValue":s[3]||(s[3]=r=>e(t).file=r),error:e(t).errors.file,accept:".xlsx,.xls,.csv","max-size":10,placeholder:e(t).file_original_name?"Choose a new file to replace current one":"Choose a file or drag and drop"},null,8,["modelValue","error","placeholder"]),a("p",G," Supported formats: XLSX, XLS, CSV (Max: 10MB) "+f(e(t).file_original_name?" - Leave empty to keep current file":""),1)]),a("div",J,[o(e(u),{type:"submit",disabled:e(t).processing,class:"flex items-center gap-2"},{default:l(()=>[e(t).processing?(m(),x(e(N),{key:0,class:"h-4 w-4 animate-spin"})):_("",!0),i(" "+f(e(t).processing?"Updating...":"Update Form"),1)]),_:1},8,["disabled"]),o(e(u),{type:"button",variant:"outline",disabled:e(t).processing,onClick:s[4]||(s[4]=r=>d.$inertia.visit(d.route("forms.index")))},{default:l(()=>s[13]||(s[13]=[i(" Cancel ")])),_:1,__:[13]},8,["disabled"])])],32)]),_:1})]),_:1})])]),_:1})],64))}});export{ie as default};
