var je=Object.defineProperty;var Ae=(n,o,p)=>o in n?je(n,o,{enumerable:!0,configurable:!0,writable:!0,value:p}):n[o]=p;var k=(n,o,p)=>Ae(n,typeof o!="symbol"?o+"":o,p);import{H as le,d as Me,x as z,r as C,g as N,e as m,w as l,f as t,u as s,q as qe,j as f,b as g,h as R,i as r,l as ie,F as M,k as q,D as h,I as ee,t as S,n as ue}from"./app-SFb2zInB.js";import{_ as He,a as me}from"./Layout.vue_vue_type_script_setup_true_lang-BXFDHM-9.js";import{_ as U}from"./InputError.vue_vue_type_script_setup_true_lang-DdPLF5Om.js";import{_ as c}from"./index-CbHqO0W5.js";import{_ as fe,a as pe,b as _e,c as ve}from"./CardTitle.vue_vue_type_script_setup_true_lang-DFtRfmVV.js";import{_ as ge}from"./CardDescription.vue_vue_type_script_setup_true_lang-DDBHt1fo.js";import{d as I,_ as L,a as G,b as J,c as K}from"./DialogTitle.vue_vue_type_script_setup_true_lang-DLebj7m7.js";import{_ as ye,a as Q}from"./DialogTrigger.vue_vue_type_script_setup_true_lang-BjbMzWCU.js";import{_ as b,a as H}from"./Label.vue_vue_type_script_setup_true_lang-7hqQEBdS.js";import{_ as be,T as we,a as oe,b as W,c as ce,d as X}from"./TableCell-CnVHEg2-.js";import{_ as ze}from"./AppLayout.vue_vue_type_script_setup_true_lang-CQmFckDX.js";import"./useForwardExpose-QsExlC0D.js";import"./RovingFocusGroup-7AlOQywy.js";let ne=1;var Be=class{constructor(){k(this,"subscribers");k(this,"toasts");k(this,"dismissedToasts");k(this,"subscribe",n=>(this.subscribers.push(n),()=>{const o=this.subscribers.indexOf(n);this.subscribers.splice(o,1)}));k(this,"publish",n=>{this.subscribers.forEach(o=>o(n))});k(this,"addToast",n=>{this.publish(n),this.toasts=[...this.toasts,n]});k(this,"create",n=>{var x;const{message:o,...p}=n,d=typeof n.id=="number"||n.id&&((x=n.id)==null?void 0:x.length)>0?n.id:ne++,a=this.toasts.find(V=>V.id===d),w=n.dismissible===void 0?!0:n.dismissible;return this.dismissedToasts.has(d)&&this.dismissedToasts.delete(d),a?this.toasts=this.toasts.map(V=>V.id===d?(this.publish({...V,...n,id:d,title:o}),{...V,...n,id:d,dismissible:w,title:o}):V):this.addToast({title:o,...p,dismissible:w,id:d}),d});k(this,"dismiss",n=>(n?(this.dismissedToasts.add(n),requestAnimationFrame(()=>this.subscribers.forEach(o=>o({id:n,dismiss:!0})))):this.toasts.forEach(o=>{this.subscribers.forEach(p=>p({id:o.id,dismiss:!0}))}),n));k(this,"message",(n,o)=>this.create({...o,message:n,type:"default"}));k(this,"error",(n,o)=>this.create({...o,type:"error",message:n}));k(this,"success",(n,o)=>this.create({...o,type:"success",message:n}));k(this,"info",(n,o)=>this.create({...o,type:"info",message:n}));k(this,"warning",(n,o)=>this.create({...o,type:"warning",message:n}));k(this,"loading",(n,o)=>this.create({...o,type:"loading",message:n}));k(this,"promise",(n,o)=>{if(!o)return;let p;o.loading!==void 0&&(p=this.create({...o,promise:n,type:"loading",message:o.loading,description:typeof o.description!="function"?o.description:void 0}));const d=Promise.resolve(n instanceof Function?n():n);let a=p!==void 0,w;const x=d.then(async v=>{if(w=["resolve",v],le(v))a=!1,this.create({id:p,type:"default",message:v});else if(Ie(v)&&!v.ok){a=!1;const y=typeof o.error=="function"?await o.error(`HTTP error! status: ${v.status}`):o.error,E=typeof o.description=="function"?await o.description(`HTTP error! status: ${v.status}`):o.description,j=typeof y=="object"&&!le(y)?y:{message:y||"",id:p||""};this.create({id:p,type:"error",description:E,...j})}else if(v instanceof Error){a=!1;const y=typeof o.error=="function"?await o.error(v):o.error,E=typeof o.description=="function"?await o.description(v):o.description,j=typeof y=="object"&&!le(y)?y:{message:y||"",id:p||""};this.create({id:p,type:"error",description:E,...j})}else if(o.success!==void 0){a=!1;const y=typeof o.success=="function"?await o.success(v):o.success,E=typeof o.description=="function"?await o.description(v):o.description,j=typeof y=="object"&&!le(y)?y:{message:y||"",id:p||""};this.create({id:p,type:"success",description:E,...j})}}).catch(async v=>{if(w=["reject",v],o.error!==void 0){a=!1;const $=typeof o.error=="function"?await o.error(v):o.error,y=typeof o.description=="function"?await o.description(v):o.description,F=typeof $=="object"&&!le($)?$:{message:$||"",id:p||""};this.create({id:p,type:"error",description:y,...F})}}).finally(()=>{var v;a&&(this.dismiss(p),p=void 0),(v=o.finally)==null||v.call(o)}),V=()=>new Promise((v,$)=>x.then(()=>w[0]==="reject"?$(w[1]):v(w[1])).catch($));return typeof p!="string"&&typeof p!="number"?{unwrap:V}:Object.assign(p,{unwrap:V})});k(this,"custom",(n,o)=>{const p=(o==null?void 0:o.id)||ne++;return this.publish({component:n,id:p,...o}),p});k(this,"getActiveToasts",()=>this.toasts.filter(n=>!this.dismissedToasts.has(n.id)));this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}};const P=new Be;function Oe(n,o){const p=(o==null?void 0:o.id)||ne++;return P.create({message:n,id:p,type:"default",...o}),p}const Ie=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",Le=Oe,Ge=()=>P.toasts,Je=()=>P.getActiveToasts(),Y=Object.assign(Le,{success:P.success,info:P.info,warning:P.warning,error:P.error,custom:P.custom,message:P.message,promise:P.promise,dismiss:P.dismiss,loading:P.loading},{getHistory:Ge,getToasts:Je}),Ke={class:"flex flex-col space-y-6"},Qe={key:0,class:"flex items-center justify-between"},We={class:"mt-2 border border-gray-700/25 dark:border-gray-300/25 p-1 rounded-md grid max-h-32 grid-cols-2 gap-2 overflow-y-auto"},Xe=["id","value"],Ye={class:"mt-2 border border-gray-700/25 dark:border-gray-300/25 p-1 rounded-md grid max-h-32 grid-cols-2 gap-2 overflow-y-auto"},Ze=["id","value","disabled"],he={key:0,class:"text-xs"},es={class:"flex flex-wrap gap-1 md:gap-2"},ss={key:0,class:"text-gray-400"},ts={key:2,class:"flex items-center justify-between"},ls={class:"mt-2 border border-gray-700/25 dark:border-gray-300/25 p-1 rounded-md grid grid-cols-2 gap-2"},is=["id","value"],os={class:"flex flex-wrap gap-1 md:gap-2"},rs={key:0,class:"text-gray-400"},ns={class:"mt-2 border border-gray-700/25 dark:border-gray-300/25 p-1 rounded-md grid max-h-32 grid-cols-2 gap-2 overflow-y-auto"},as=["id","value"],ds={class:"mt-2 border border-gray-700/25 dark:border-gray-300/25 p-1 rounded-md grid max-h-32 grid-cols-2 gap-2 overflow-y-auto"},us=["id","value","disabled"],ms={key:0,class:"text-xs"},fs={class:"mt-2 border border-gray-700/25 dark:border-gray-300/25 p-1 rounded-md grid grid-cols-2 gap-2"},ps=["id","value"],Es=Me({__name:"UserManagement",props:{users:{},roles:{},permissions:{}},setup(n){const o=n,p=[{title:"User Management",href:"/settings/user-management"}],d=z({name:"",email:"",password:"",password_confirmation:"",roles:[],permissions:[]}),a=z({id:"",name:"",email:"",password:"",password_confirmation:"",roles:[],permissions:[]}),w=z({name:"",permissions:[]}),x=z({id:"",name:"",permissions:[]});z({name:""}),z({id:"",name:""});const V=C(!1),v=C(!1),$=C(!1),y=C(!1),E=C(!1),F=C(!1);C(!1),C(!1);const j=C(!1),se=C(null),te=C(null),re=C(null),D=C({name:"",email:"",password:"",password_confirmation:"",role_id:""}),T=C({name:"",email:"",password:"",password_confirmation:"",role_id:""}),B=C({name:"",permissions:""});C({name:""});const ae=u=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(u),xe=()=>{let u=!0;return D.value={name:"",email:"",password:"",password_confirmation:"",role_id:""},d.name.trim()?d.name.length<2&&(D.value.name="Name must be at least 2 characters",u=!1):(D.value.name="Name is required",u=!1),d.email.trim()?ae(d.email)||(D.value.email="Please enter a valid email address",u=!1):(D.value.email="Email is required",u=!1),d.password?d.password.length<8&&(D.value.password="Password must be at least 8 characters",u=!1):(D.value.password="Password is required",u=!1),d.password!==d.password_confirmation&&(D.value.password_confirmation="Passwords do not match",u=!1),u},ke=()=>{let u=!0;return T.value={name:"",email:"",password:"",password_confirmation:"",role_id:""},a.name.trim()?a.name.length<2&&(T.value.name="Name must be at least 2 characters",u=!1):(T.value.name="Name is required",u=!1),a.email.trim()?ae(a.email)||(T.value.email="Please enter a valid email address",u=!1):(T.value.email="Email is required",u=!1),a.password&&(a.password.length<8&&(T.value.password="Password must be at least 8 characters",u=!1),a.password!==a.password_confirmation&&(T.value.password_confirmation="Passwords do not match",u=!1)),u},de=u=>{let e=!0;return B.value={name:"",permissions:""},u.name.trim()?u.name.length<2&&(B.value.name="Name must be at least 2 characters",e=!1):(B.value.name="Name is required",e=!1),e},Ce=()=>{xe()&&d.post(route("users.store"),{onSuccess:()=>{V.value=!1,d.reset(),Y.success("User created successfully")}})},Ue=u=>{var e,i;se.value=u,a.id=String(u.id),a.name=u.name,a.email=u.email,a.password="",a.password_confirmation="",a.roles=((e=u.roles)==null?void 0:e.map(_=>_.name))||[],a.permissions=((i=u.permissions)==null?void 0:i.map(_=>_.name))||[],v.value=!0},Ve=()=>{ke()&&a.put(route("users.update",{id:a.id}),{onSuccess:()=>{v.value=!1,Y.success("User updated successfully")}})},Z=(u,e)=>o.roles.filter(i=>e.includes(i.name)).some(i=>{var _;return(_=i.permissions)==null?void 0:_.some(O=>O.name===u)}),$e=u=>{se.value=u,$.value=!0},Re=()=>{se.value&&z({}).delete(route("users.destroy",{id:se.value.id}),{onSuccess:()=>{$.value=!1,se.value=null,Y.success("User deleted successfully")}})},Ee=()=>{y.value=!0,w.reset()},De=u=>{var e;te.value=u,x.id=String(u.id),x.name=u.name,x.permissions=((e=u.permissions)==null?void 0:e.map(i=>String(i.name)))||[],E.value=!0},Pe=()=>{de(w)&&w.post(route("roles.store"),{onSuccess:()=>{y.value=!1,w.reset(),Y.success("Role created successfully")}})},Te=()=>{de(x)&&x.put(route("roles.update",{id:x.id}),{onSuccess:()=>{E.value=!1,x.reset(),Y.success("Role updated successfully")}})},Ne=u=>{te.value=u,F.value=!0},Se=()=>{te.value&&z({}).delete(route("roles.destroy",{id:te.value.id}),{onSuccess:()=>{F.value=!1,te.value=null,Y.success("Role deleted successfully")}})},Fe=()=>{re.value&&z({}).delete(route("permissions.destroy",{id:re.value.id}),{onSuccess:()=>{j.value=!1,re.value=null,Y.success("Permission deleted successfully")}})},A=u=>o.permissions?o.permissions.some(e=>e.name===u):!1;return(u,e)=>(m(),N(ze,{breadcrumbs:p},{default:l(()=>[t(s(qe),{title:"User Management"}),t(He,null,{default:l(()=>[f("div",Ke,[A("users.index")?(m(),g("div",Qe,[t(me,{title:"User Management",description:"Create, edit and manage users"}),t(s(I),{open:V.value,"onUpdate:open":e[7]||(e[7]=i=>V.value=i)},{default:l(()=>[t(s(ye),{asChild:""},{default:l(()=>[A("users.create")?(m(),N(s(c),{key:0},{default:l(()=>e[30]||(e[30]=[r("Add New User")])),_:1,__:[30]})):R("",!0)]),_:1}),t(s(L),{class:"md:max-w-2xl"},{default:l(()=>[t(s(G),null,{default:l(()=>[t(s(J),null,{default:l(()=>e[31]||(e[31]=[r("Create New User")])),_:1,__:[31]}),t(s(Q),null,{default:l(()=>e[32]||(e[32]=[r(" Fill in the details to create a new user account. ")])),_:1,__:[32]})]),_:1}),f("form",{onSubmit:ie(Ce,["prevent"]),class:"space-y-4"},[f("div",null,[t(s(b),{for:"name"},{default:l(()=>e[33]||(e[33]=[r("Name")])),_:1,__:[33]}),t(s(H),{id:"name",modelValue:s(d).name,"onUpdate:modelValue":e[0]||(e[0]=i=>s(d).name=i),type:"text"},null,8,["modelValue"]),t(U,{message:s(d).errors.name||D.value.name},null,8,["message"])]),f("div",null,[t(s(b),{for:"email"},{default:l(()=>e[34]||(e[34]=[r("Email")])),_:1,__:[34]}),t(s(H),{id:"email",modelValue:s(d).email,"onUpdate:modelValue":e[1]||(e[1]=i=>s(d).email=i),type:"email"},null,8,["modelValue"]),t(U,{message:s(d).errors.email||D.value.email},null,8,["message"])]),f("div",null,[t(s(b),{for:"password"},{default:l(()=>e[35]||(e[35]=[r("Password")])),_:1,__:[35]}),t(s(H),{id:"password",modelValue:s(d).password,"onUpdate:modelValue":e[2]||(e[2]=i=>s(d).password=i),type:"password"},null,8,["modelValue"]),t(U,{message:s(d).errors.password||D.value.password},null,8,["message"])]),f("div",null,[t(s(b),{for:"password_confirmation"},{default:l(()=>e[36]||(e[36]=[r("Confirm Password")])),_:1,__:[36]}),t(s(H),{id:"password_confirmation",modelValue:s(d).password_confirmation,"onUpdate:modelValue":e[3]||(e[3]=i=>s(d).password_confirmation=i),type:"password"},null,8,["modelValue"]),t(U,{message:s(d).errors.password_confirmation||D.value.password_confirmation},null,8,["message"])]),f("div",null,[t(s(b),null,{default:l(()=>e[37]||(e[37]=[r("Roles")])),_:1,__:[37]}),f("div",We,[(m(!0),g(M,null,q(o.roles,i=>(m(),g("div",{key:i.id,class:"flex items-center space-x-2"},[h(f("input",{type:"checkbox",id:`create-role-${i.id}`,value:i.name,"onUpdate:modelValue":e[4]||(e[4]=_=>s(d).roles=_),class:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,8,Xe),[[ee,s(d).roles]]),t(s(b),{for:`create-role-${i.id}`},{default:l(()=>[r(S(i.name),1)]),_:2},1032,["for"])]))),128))]),t(U,{message:s(d).errors.roles},null,8,["message"])]),f("div",null,[t(s(b),null,{default:l(()=>e[38]||(e[38]=[r("Direct Permissions")])),_:1,__:[38]}),f("div",Ye,[(m(!0),g(M,null,q(o.permissions,i=>(m(),g("div",{key:i.id,class:"flex items-center space-x-2"},[h(f("input",{type:"checkbox",id:`create-permission-${i.id}`,value:i.name,"onUpdate:modelValue":e[5]||(e[5]=_=>s(d).permissions=_),disabled:Z(i.name,s(d).roles),class:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500 disabled:opacity-50"},null,8,Ze),[[ee,s(d).permissions]]),t(s(b),{for:`create-permission-${i.id}`,class:ue({"text-gray-500 italic":Z(i.name,s(d).roles)})},{default:l(()=>[r(S(i.name)+" ",1),Z(i.name,s(d).roles)?(m(),g("span",he,"(inherited)")):R("",!0)]),_:2},1032,["for","class"])]))),128))]),t(U,{message:s(d).errors.permissions},null,8,["message"])]),t(s(K),null,{default:l(()=>[t(s(c),{type:"button",variant:"outline",onClick:e[6]||(e[6]=i=>V.value=!1)},{default:l(()=>e[39]||(e[39]=[r("Cancel")])),_:1,__:[39]}),t(s(c),{type:"submit",disabled:s(d).processing},{default:l(()=>e[40]||(e[40]=[r("Create User")])),_:1,__:[40]},8,["disabled"])]),_:1})],32)]),_:1})]),_:1},8,["open"])])):R("",!0),A("users.index")?(m(),N(s(fe),{key:1},{default:l(()=>[t(s(pe),null,{default:l(()=>[t(s(_e),null,{default:l(()=>e[41]||(e[41]=[r("Users")])),_:1,__:[41]}),t(s(ge),null,{default:l(()=>e[42]||(e[42]=[r("Manage your system users")])),_:1,__:[42]})]),_:1}),t(s(ve),null,{default:l(()=>[t(s(be),null,{default:l(()=>[t(s(we),null,{default:l(()=>[t(s(oe),null,{default:l(()=>[t(s(W),null,{default:l(()=>e[43]||(e[43]=[r("Name")])),_:1,__:[43]}),t(s(W),null,{default:l(()=>e[44]||(e[44]=[r("Email")])),_:1,__:[44]}),t(s(W),null,{default:l(()=>e[45]||(e[45]=[r("Role")])),_:1,__:[45]}),t(s(W),{class:"text-right"},{default:l(()=>e[46]||(e[46]=[r("Actions")])),_:1,__:[46]})]),_:1})]),_:1}),t(s(ce),null,{default:l(()=>[(m(!0),g(M,null,q(o.users,i=>(m(),N(s(oe),{key:i.id},{default:l(()=>[t(s(X),null,{default:l(()=>[r(S(i.name),1)]),_:2},1024),t(s(X),null,{default:l(()=>[r(S(i.email),1)]),_:2},1024),t(s(X),null,{default:l(()=>{var _;return[f("div",es,[(m(!0),g(M,null,q(i.roles,O=>(m(),g("span",{key:O.id,class:"rounded-full bg-[#84a4f9] dark:bg-[#325ba8] px-4 md:px-2 py-1 text-xs text-black dark:text-white"},S(O.name),1))),128)),(_=i.roles)!=null&&_.length?R("",!0):(m(),g("span",ss,"No roles"))])]}),_:2},1024),t(s(X),{class:"text-right"},{default:l(()=>[A("users.edit")?(m(),N(s(c),{key:0,variant:"ghost",size:"sm",onClick:_=>Ue(i),class:"mr-2"},{default:l(()=>e[47]||(e[47]=[r("Edit")])),_:2,__:[47]},1032,["onClick"])):R("",!0),A("users.destroy")?(m(),N(s(c),{key:1,variant:"destructive",size:"sm",onClick:_=>$e(i)},{default:l(()=>e[48]||(e[48]=[r("Delete")])),_:2,__:[48]},1032,["onClick"])):R("",!0)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1})):R("",!0),A("roles.index")?(m(),g("div",ts,[t(me,{title:"Role Management",description:"Create, edit and manage roles"}),t(s(I),{open:y.value,"onUpdate:open":e[11]||(e[11]=i=>y.value=i)},{default:l(()=>[t(s(ye),{asChild:""},{default:l(()=>[A("roles.create")?(m(),N(s(c),{key:0,onClick:Ee},{default:l(()=>e[49]||(e[49]=[r("Add New Role")])),_:1,__:[49]})):R("",!0)]),_:1}),t(s(L),{class:"md:max-w-2xl"},{default:l(()=>[t(s(G),null,{default:l(()=>[t(s(J),null,{default:l(()=>e[50]||(e[50]=[r("Create New Role")])),_:1,__:[50]}),t(s(Q),null,{default:l(()=>e[51]||(e[51]=[r(" Fill in the details to create a new role. ")])),_:1,__:[51]})]),_:1}),f("form",{onSubmit:ie(Pe,["prevent"]),class:"space-y-4"},[f("div",null,[t(s(b),{for:"role-name"},{default:l(()=>e[52]||(e[52]=[r("Name")])),_:1,__:[52]}),t(s(H),{id:"role-name",modelValue:s(w).name,"onUpdate:modelValue":e[8]||(e[8]=i=>s(w).name=i),type:"text"},null,8,["modelValue"]),t(U,{message:s(w).errors.name||B.value.name},null,8,["message"])]),f("div",null,[t(s(b),null,{default:l(()=>e[53]||(e[53]=[r("Permissions")])),_:1,__:[53]}),f("div",ls,[(m(!0),g(M,null,q(o.permissions,i=>(m(),g("div",{key:i.id,class:"flex items-center space-x-2"},[h(f("input",{type:"checkbox",id:`permission-${i.id}`,value:i.name,"onUpdate:modelValue":e[9]||(e[9]=_=>s(w).permissions=_),class:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,8,is),[[ee,s(w).permissions]]),t(s(b),{for:`permission-${i.id}`},{default:l(()=>[r(S(i.name),1)]),_:2},1032,["for"])]))),128))]),t(U,{message:s(w).errors.permissions||B.value.permissions},null,8,["message"])]),t(s(K),null,{default:l(()=>[t(s(c),{type:"button",variant:"outline",onClick:e[10]||(e[10]=i=>y.value=!1)},{default:l(()=>e[54]||(e[54]=[r("Cancel")])),_:1,__:[54]}),t(s(c),{type:"submit",disabled:s(w).processing},{default:l(()=>e[55]||(e[55]=[r("Create Role")])),_:1,__:[55]},8,["disabled"])]),_:1})],32)]),_:1})]),_:1},8,["open"])])):R("",!0),A("roles.index")?(m(),N(s(fe),{key:3},{default:l(()=>[t(s(pe),null,{default:l(()=>[t(s(_e),null,{default:l(()=>e[56]||(e[56]=[r("Roles")])),_:1,__:[56]}),t(s(ge),null,{default:l(()=>e[57]||(e[57]=[r("Manage your system roles")])),_:1,__:[57]})]),_:1}),t(s(ve),null,{default:l(()=>[t(s(be),null,{default:l(()=>[t(s(we),null,{default:l(()=>[t(s(oe),null,{default:l(()=>[t(s(W),null,{default:l(()=>e[58]||(e[58]=[r("Name")])),_:1,__:[58]}),t(s(W),null,{default:l(()=>e[59]||(e[59]=[r("Permissions")])),_:1,__:[59]}),t(s(W),{class:"text-right"},{default:l(()=>e[60]||(e[60]=[r("Actions")])),_:1,__:[60]})]),_:1})]),_:1}),t(s(ce),null,{default:l(()=>[(m(!0),g(M,null,q(o.roles,i=>(m(),N(s(oe),{key:i.id},{default:l(()=>[t(s(X),null,{default:l(()=>[r(S(i.name),1)]),_:2},1024),t(s(X),null,{default:l(()=>{var _;return[f("div",os,[(m(!0),g(M,null,q(i.permissions,O=>(m(),g("span",{key:O.id,class:"rounded-full bg-[#84a4f9] dark:bg-[#325ba8] px-2 py-1 text-xs text-black dark:text-white"},S(O.name),1))),128)),(_=i.permissions)!=null&&_.length?R("",!0):(m(),g("span",rs,"No permissions"))])]}),_:2},1024),t(s(X),{class:"text-right"},{default:l(()=>[A("roles.edit")?(m(),N(s(c),{key:0,variant:"ghost",size:"sm",onClick:_=>De(i),class:"mr-2"},{default:l(()=>e[61]||(e[61]=[r("Edit")])),_:2,__:[61]},1032,["onClick"])):R("",!0),A("roles.destroy")?(m(),N(s(c),{key:1,variant:"destructive",size:"sm",onClick:_=>Ne(i)},{default:l(()=>e[62]||(e[62]=[r("Delete")])),_:2,__:[62]},1032,["onClick"])):R("",!0)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1})):R("",!0),t(s(I),{open:v.value,"onUpdate:open":e[19]||(e[19]=i=>v.value=i)},{default:l(()=>[t(s(L),{class:"md:max-w-2xl"},{default:l(()=>[t(s(G),null,{default:l(()=>[t(s(J),null,{default:l(()=>e[63]||(e[63]=[r("Edit User")])),_:1,__:[63]}),t(s(Q),null,{default:l(()=>e[64]||(e[64]=[r(" Update user information. ")])),_:1,__:[64]})]),_:1}),f("form",{onSubmit:ie(Ve,["prevent"]),class:"space-y-4"},[f("div",null,[t(s(b),{for:"edit-name"},{default:l(()=>e[65]||(e[65]=[r("Name")])),_:1,__:[65]}),t(s(H),{id:"edit-name",modelValue:s(a).name,"onUpdate:modelValue":e[12]||(e[12]=i=>s(a).name=i),type:"text"},null,8,["modelValue"]),t(U,{message:s(a).errors.name||T.value.name},null,8,["message"])]),f("div",null,[t(s(b),{for:"edit-email"},{default:l(()=>e[66]||(e[66]=[r("Email")])),_:1,__:[66]}),t(s(H),{id:"edit-email",modelValue:s(a).email,"onUpdate:modelValue":e[13]||(e[13]=i=>s(a).email=i),type:"email"},null,8,["modelValue"]),t(U,{message:s(a).errors.email||T.value.email},null,8,["message"])]),f("div",null,[t(s(b),{for:"edit-password"},{default:l(()=>e[67]||(e[67]=[r("Password (leave blank to keep current)")])),_:1,__:[67]}),t(s(H),{id:"edit-password",modelValue:s(a).password,"onUpdate:modelValue":e[14]||(e[14]=i=>s(a).password=i),type:"password"},null,8,["modelValue"]),t(U,{message:s(a).errors.password||T.value.password},null,8,["message"])]),f("div",null,[t(s(b),{for:"edit-password_confirmation"},{default:l(()=>e[68]||(e[68]=[r("Confirm Password")])),_:1,__:[68]}),t(s(H),{id:"edit-password_confirmation",modelValue:s(a).password_confirmation,"onUpdate:modelValue":e[15]||(e[15]=i=>s(a).password_confirmation=i),type:"password"},null,8,["modelValue"]),t(U,{message:s(a).errors.password_confirmation||T.value.password_confirmation},null,8,["message"])]),f("div",null,[t(s(b),null,{default:l(()=>e[69]||(e[69]=[r("Roles")])),_:1,__:[69]}),f("div",ns,[(m(!0),g(M,null,q(o.roles,i=>(m(),g("div",{key:i.id,class:"flex items-center space-x-2"},[h(f("input",{type:"checkbox",id:`edit-role-${i.id}`,value:i.name,"onUpdate:modelValue":e[16]||(e[16]=_=>s(a).roles=_),class:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,8,as),[[ee,s(a).roles]]),t(s(b),{for:`edit-role-${i.id}`},{default:l(()=>[r(S(i.name),1)]),_:2},1032,["for"])]))),128))]),t(U,{message:s(a).errors.roles},null,8,["message"])]),f("div",null,[t(s(b),null,{default:l(()=>e[70]||(e[70]=[r("Direct Permissions")])),_:1,__:[70]}),f("div",ds,[(m(!0),g(M,null,q(o.permissions,i=>(m(),g("div",{key:i.id,class:"flex items-center space-x-2"},[h(f("input",{type:"checkbox",id:`edit-permission-${i.id}`,value:i.name,"onUpdate:modelValue":e[17]||(e[17]=_=>s(a).permissions=_),disabled:Z(i.name,s(a).roles),class:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500 disabled:opacity-50"},null,8,us),[[ee,s(a).permissions]]),t(s(b),{for:`edit-permission-${i.id}`,class:ue({"text-gray-500 italic":Z(i.name,s(a).roles)})},{default:l(()=>[r(S(i.name)+" ",1),Z(i.name,s(a).roles)?(m(),g("span",ms,"(inherited)")):R("",!0)]),_:2},1032,["for","class"])]))),128))]),t(U,{message:s(a).errors.permissions},null,8,["message"])]),t(s(K),null,{default:l(()=>[t(s(c),{type:"button",variant:"outline",onClick:e[18]||(e[18]=i=>v.value=!1)},{default:l(()=>e[71]||(e[71]=[r("Cancel")])),_:1,__:[71]}),t(s(c),{type:"submit",disabled:s(a).processing},{default:l(()=>e[72]||(e[72]=[r("Update User")])),_:1,__:[72]},8,["disabled"])]),_:1})],32)]),_:1})]),_:1},8,["open"]),t(s(I),{open:$.value,"onUpdate:open":e[21]||(e[21]=i=>$.value=i)},{default:l(()=>[t(s(L),{class:"md:max-w-2xl"},{default:l(()=>[t(s(G),null,{default:l(()=>[t(s(J),null,{default:l(()=>e[73]||(e[73]=[r("Delete User")])),_:1,__:[73]}),t(s(Q),null,{default:l(()=>e[74]||(e[74]=[r(" Are you sure you want to delete this user? This action cannot be undone. ")])),_:1,__:[74]})]),_:1}),t(s(K),null,{default:l(()=>[t(s(c),{type:"button",variant:"outline",onClick:e[20]||(e[20]=i=>$.value=!1)},{default:l(()=>e[75]||(e[75]=[r("Cancel")])),_:1,__:[75]}),t(s(c),{type:"button",variant:"destructive",onClick:Re},{default:l(()=>e[76]||(e[76]=[r("Delete User")])),_:1,__:[76]})]),_:1})]),_:1})]),_:1},8,["open"]),t(s(I),{open:E.value,"onUpdate:open":e[25]||(e[25]=i=>E.value=i)},{default:l(()=>[t(s(L),{class:"md:max-w-2xl"},{default:l(()=>[t(s(G),null,{default:l(()=>[t(s(J),null,{default:l(()=>e[77]||(e[77]=[r("Edit Role")])),_:1,__:[77]}),t(s(Q),null,{default:l(()=>e[78]||(e[78]=[r(" Update role information. ")])),_:1,__:[78]})]),_:1}),f("form",{onSubmit:ie(Te,["prevent"]),class:"space-y-4"},[f("div",null,[t(s(b),{for:"edit-role-name"},{default:l(()=>e[79]||(e[79]=[r("Name")])),_:1,__:[79]}),t(s(H),{id:"edit-role-name",modelValue:s(x).name,"onUpdate:modelValue":e[22]||(e[22]=i=>s(x).name=i),type:"text"},null,8,["modelValue"]),t(U,{message:s(x).errors.name||B.value.name},null,8,["message"])]),f("div",null,[t(s(b),null,{default:l(()=>e[80]||(e[80]=[r("Permissions")])),_:1,__:[80]}),f("div",fs,[(m(!0),g(M,null,q(o.permissions,i=>(m(),g("div",{key:i.id,class:"flex items-center space-x-2"},[h(f("input",{type:"checkbox",id:`edit-permission-${i.id}`,value:i.name,"onUpdate:modelValue":e[23]||(e[23]=_=>s(x).permissions=_),class:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,8,ps),[[ee,s(x).permissions]]),t(s(b),{for:`edit-permission-${i.id}`},{default:l(()=>[r(S(i.name),1)]),_:2},1032,["for"])]))),128))]),t(U,{message:s(x).errors.permissions||B.value.permissions},null,8,["message"])]),t(s(K),null,{default:l(()=>[t(s(c),{type:"button",variant:"outline",onClick:e[24]||(e[24]=i=>E.value=!1)},{default:l(()=>e[81]||(e[81]=[r("Cancel")])),_:1,__:[81]}),t(s(c),{type:"submit",disabled:s(x).processing},{default:l(()=>e[82]||(e[82]=[r("Update Role")])),_:1,__:[82]},8,["disabled"])]),_:1})],32)]),_:1})]),_:1},8,["open"]),t(s(I),{open:F.value,"onUpdate:open":e[27]||(e[27]=i=>F.value=i)},{default:l(()=>[t(s(L),{class:"md:max-w-2xl"},{default:l(()=>[t(s(G),null,{default:l(()=>[t(s(J),null,{default:l(()=>e[83]||(e[83]=[r("Delete Role")])),_:1,__:[83]}),t(s(Q),null,{default:l(()=>e[84]||(e[84]=[r(" Are you sure you want to delete this role? This action cannot be undone. ")])),_:1,__:[84]})]),_:1}),t(s(K),null,{default:l(()=>[t(s(c),{type:"button",variant:"outline",onClick:e[26]||(e[26]=i=>F.value=!1)},{default:l(()=>e[85]||(e[85]=[r("Cancel")])),_:1,__:[85]}),t(s(c),{type:"button",variant:"destructive",onClick:Se},{default:l(()=>e[86]||(e[86]=[r("Delete Role")])),_:1,__:[86]})]),_:1})]),_:1})]),_:1},8,["open"]),t(s(I),{open:j.value,"onUpdate:open":e[29]||(e[29]=i=>j.value=i)},{default:l(()=>[t(s(L),{class:"md:max-w-2xl"},{default:l(()=>[t(s(G),null,{default:l(()=>[t(s(J),null,{default:l(()=>e[87]||(e[87]=[r("Delete Permission")])),_:1,__:[87]}),t(s(Q),null,{default:l(()=>e[88]||(e[88]=[r(" Are you sure you want to delete this permission? This action cannot be undone. ")])),_:1,__:[88]})]),_:1}),t(s(K),null,{default:l(()=>[t(s(c),{type:"button",variant:"outline",onClick:e[28]||(e[28]=i=>j.value=!1)},{default:l(()=>e[89]||(e[89]=[r("Cancel")])),_:1,__:[89]}),t(s(c),{type:"button",variant:"destructive",onClick:Fe},{default:l(()=>e[90]||(e[90]=[r("Delete Permission")])),_:1,__:[90]})]),_:1})]),_:1})]),_:1},8,["open"])])]),_:1})]),_:1}))}});export{Es as default};
